!function(){"use strict";function FontFace(family,fonts,settings){if(void 0===fonts)return console.log("No se determinó enlaces para las fuentes.");var config=settings||{};this.family=family,this.featureSettings=config["font-font-feature-settings"]||"normal",this.stretch=config["font-stretch"]||"normal",this.style=config["font-style"]||"normal",this.unicodeRange=config["unicode-range"]||"U+0-10FFFF",this.variant=config["font-variant"]||"normal",this.weight=config["font-weight"]||"normal",this.loaded="pending",this.status="unloaded",this._toLoad=FFUtils.getUrl(fonts)}var FFUtils={detectIE:function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(0<msie)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(0<ua.indexOf("Trident/")){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return 0<edge&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)},getUrl:function(fonts){if(void 0!==fonts){var arrUrls=fonts.match(/url\(.*?\)/g);arrUrls.forEach(function(url,index){url=url.replace(/'/g,""),arrUrls[index]=url.replace("url(","").replace(")","")});var fontUrlToLoad,fontsLength=arrUrls.length;if(1===fontsLength)fontUrlToLoad=arrUrls[0];else for(var exFont,exForIE=["woff","otf","ttf"],isIE=this.detectIE(),fontsJoin=arrUrls.join(","),f=0;f<fontsLength;f++){var font=arrUrls[f];if(isIE){if(exFont=font.substr(-4).replace(".",""),-1!==exForIE.indexOf(exFont)){fontUrlToLoad=font;break}if(f===fontsLength)return console.log("no hay un formato de fuente compatible para cargarla en IE")}else{if(-1===fontsJoin.indexOf("woff2")){fontUrlToLoad=font;break}if("woff2"===font.substr(-5)){fontUrlToLoad=font;break}}}return fontUrlToLoad}},cache:function(name,obj){var ffLocal=localStorage.getItem("FontFace");if(void 0===obj){if(null!==ffLocal){var fontsLoaded=(ffObj=JSON.parse(ffLocal)).loaded;if(fontsLoaded){for(var nFontsLoaded=fontsLoaded.length,fontSaved=null,iFont=0;iFont<nFontsLoaded;iFont++){var cFont=fontsLoaded[iFont];if(cFont.family===name){fontSaved=cFont;break}}return fontSaved}return null}return null}if(null===ffLocal)localStorage.setItem("FontFace",JSON.stringify({loaded:[obj]}));else{var ffObj=JSON.parse(ffLocal);ffLocal.loaded.push(obj),localStorage.setItem("FontFace",JSON.stringify(ffObj))}},load:function(obj,cb){var _this=this,fontSaved=this.cache(obj.family);if(null===fontSaved){var blob,xhr=new XMLHttpRequest,fileReader=new FileReader;xhr.open("GET",obj._toLoad),xhr.responseType="arraybuffer",xhr.addEventListener("readystatechange",function(e){switch(xhr.readyState){case 3:obj.status="loading";break;case 4:if(200!==xhr.status)return obj.status="error",console.log("Ocurrió un error obteniendo la fuente desde "+url);obj.status="loaded",blob=new Blob([xhr.response],{type:"application/octet-binary"}),fileReader.onload=function(evt){obj._encoded=evt.target.result,_this.cache(obj.family,obj),cb(obj)},fileReader.readAsDataURL(blob)}}),xhr.send(null)}else cb(fontSaved)},add:function(fontObj){var styleElement=document.createElement("style");styleElement.type="text/css";var styles=[],wordsIgnore=["_encoded","_toLoad","loaded","status"];Object.keys(fontObj).forEach(function(name){var valStyle=fontObj[name];"unicodeRange"===name?styles.push("unicode-range: "+valStyle):"featureSettings"===name?styles.push("font-feature-settings: "+valStyle):-1===wordsIgnore.indexOf(name)&&("family"===name&&(valStyle="'"+valStyle+"'"),styles.push("font-"+name+": "+valStyle))});for(var byteCharacters=atob(fontObj._encoded.replace("data:application/octet-binary;base64,","")),byteNumbers=new Array(byteCharacters.length),nByteCharacters=byteCharacters.length,i=0;i<nByteCharacters;i++)byteNumbers[i]=byteCharacters.charCodeAt(i);var byteArray=new Uint8Array(byteNumbers),blob=new Blob([byteArray],{type:"application/octet-binary"}),urlBlob=URL.createObjectURL(blob);styles.push('src: url("'+urlBlob+'")');var styleFont="@font-face {"+styles.join(";")+"}",styleSheet=styleElement.styleSheet;console.log(styleFont),styleSheet?styleSheet.cssText=styleFont:styleElement.innerHTML=styleFont,document.head.appendChild(styleElement)}};FontFace.prototype.load=function(){var _this=this;return{then:function(cb){FFUtils.load(_this,cb)}}},void 0===window.FontFace2&&(window.FontFace2=FontFace,document.fonts2={add:FFUtils.add})}();